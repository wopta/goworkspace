{
	"processes": [
		{
			"name": "emit",
			"defaultStart": "initEmit",
			"globalData": [
				{
					"name": "policy",
					"type": "policy"
				},
				{
					"name": "product",
					"type": "product"
				}
			],
			"description": "Emit process",
			"activities": [
				{
					"name": "initEmit",
					"handlerless": true,
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setProposalData"
								],
								"decision": "policy.channel!=`mga`"
							}
						]
					}
				},
				{
					"name": "setProposalData",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"emitData"
								]
							}
						]
					}
				},
				{
					"name": "emitData",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sign"
								]
							}
						]
					}
				},
				{
					"name": "sign",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendMailSign"
								],
								"decision": "product.flow==`remittance_mga`"
							},
							{
								"nextActivities": [
									"pay"
								]
							}
						]
					}
				},
				{
					"name": "pay",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendEmitProposalMail"
								]
							}
						]
					}
				},
				{
					"name": "sendEmitProposalMail",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendMailSign"
								]
							}
						]
					}
				},
				{
					"name": "sendMailSign",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setAdvice"
								],
								"decision": "product.flow==`remittance_mga`"
							}
						]
					}
				},
				{
					"name": "setAdvice",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"putUser"
								]
							}
						]
					}
				},
				{
					"name": "putUser"
				}
			]
		},
		{
			"name": "lead",
			"defaultStart": "initLead",
			"globalData": [
				{
					"name": "policy",
					"type": "policy"
				}
			],
			"description": "Lead process for e-commerce",
			"activities": [
				{
					"name": "initLead",
					"handlerless": true,
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setLeadData"
								]
							}
						]
					}
				},
				{
					"name": "setLeadData",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendLeadMail"
								],
								"decision": "policy.channel!=`mga` && policy.channel!=`network`"
							}
						]
					}
				},
				{
					"name": "sendLeadMail",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"emitData"
								]
							}
						]
					}
				},
				{
					"name": "emitData",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sign"
								]
							}
						]
					}
				},
				{
					"name": "sign",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"pay"
								]
							}
						]
					}
				},
				{
					"name": "pay",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendEmitProposalMail"
								]
							}
						]
					}
				},
				{
					"name": "sendEmitProposalMail",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendMailSign"
								]
							}
						]
					}
				},
				{
					"name": "sendMailSign"
				}
			]
		},
		{
			"name": "pay",
			"globalData": [
				{
					"name": "product",
					"type": "product"
				}
			],
			"description": "Payiment process",
			"defaultStart": "initPay",
			"activities": [
				{
					"name": "initPay",
					"handlerless": true,
					"branch": {
						"inputData": [],
						"gateways": [
							{
								"nextActivities": [
									"updatePolicy"
								],
								"decision": "product.flow!=`remittance_mga`"
							}
						]
					}
				},
				{
					"name": "updatePolicy",
					"branch": {
						"inputData": [],
						"outputData": [],
						"gateways": [
							{
								"nextActivities": [
									"payTransaction"
								]
							}
						]
					}
				},
				{
					"name": "payTransaction",
					"branch": {
						"inputData": [],
						"outputData": [],
						"gateways": [
							{
								"nextActivities": [
									"sign"
								],
								"decision": "policy.channel!=`mga` && policy.channel!=`network`"
							}
						]
					}
				},
				{
					"name": "sign"
				}
			]
		},
		{
			"name": "proposal",
			"globalData": [
				{
					"name": "policy",
					"type": "policy"
				}
			],
			"description": "Proposal process",
			"defaultStart": "initProposal",
			"activities": [
				{
					"name": "initProposal",
					"handlerless": true,
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setProposalData"
								],
								"decision": "policy.channel!=`e-commerce`"
							}
						]
					}
				},
				{
					"name": "setProposalData",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendProposalMail"
								],
								"decision": "policy.channel==`network`"
							}
						]
					}
				},
				{
					"name": "sendProposalMail"
				}
			]
		},
		{
			"name": "requestApproval",
			"globalData": [],
			"description": "Request approcal process",
			"defaultStart": "initRequestApproval",
			"activities": [
				{
					"name": "initRequestApproval",
					"handlerless": true,
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setRequestApprovalData"
								],
								"decision": "policy.channel==`network`"
							}
						]
					}
				},
				{
					"name": "setRequestApprovalData",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendRequestApprovalMail"
								]
							}
						]
					}
				},
				{
					"name": "sendRequestApprovalMail"
				}
			]
		},
		{
			"name": "sign",
			"globalData": [
				{
					"name": "product",
					"type": "product"
				}
			],
			"description": "Sign process",
			"defaultStart": "initSign",
			"activities": [
				{
					"name": "initSign",
					"handlerless": true,
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setSign"
								],
								"decision": "product.flow==`remittance_mga`"
							},
							{
								"nextActivities": [
									"fillAttachments"
								]
							}
						]
					}
				},
				{
					"name": "fillAttachments",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setSign"
								]
							}
						]
					}
				},
				{
					"name": "setSign",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"setToPay"
								],
								"decision": "product.flow!=`remittance_mga`"
							},
							{
								"nextActivities": [
									"addContract"
								]
							}
						]
					}
				},
				{
					"name": "setToPay",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendMailPay"
								],
								"decision": "policy.channel!=`mga`"
							}
						]
					}
				},
				{
					"name": "sendMailPay"
				},
				{
					"name": "addContract",
					"branch": {
						"gateways": [
							{
								"nextActivities": [
									"sendMailContract"
								],
								"decision": "product.flow==`remittance_mga`"
							}
						]
					}
				},
				{
					"name": "sendMailContract"
				}
			]
		}
	]
}
